<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">

      <div class="row">
        <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2">
          <div class="row">
            <div class="col-xs-4 col-sm-4">
              <a routerLink="/about" fragment="antoine-chabert" class="thumbnail">
                <img src="./assets/images/antoine-chabert.jpg" alt="Antoine Chabert - EPFL Student 2016/2017" title="Antoine Chabert - EPFL Student 2016/2017">
              </a>
            </div>
            <div class="col-xs-4 col-sm-4">
              <a routerLink="/about" fragment="arnaud-dupeyrat" class="thumbnail">
                <img src="./assets/images/arnaud-dupeyrat.jpg" alt="Arnaud Dupeyrat - EPFL Student 2016/2017" title="Arnaud Dupeyrat - EPFL Student 2016/2017">
              </a>
            </div>
            <div class="col-xs-4 col-sm-4">
              <a routerLink="/about" fragment="arber-salihi"  class="thumbnail">
                <img src="http://placehold.it/300x300" alt="Arbër Salihi - EPFL Student 2016/2017" title="Arbër Salihi - EPFL Student 2016/2017">
              </a>
            </div>
          </div>
        </div>
      </div>

      <h1 class="title">About technologies and team<br><small>Antoine, Arnaud and Arbër</small></h1>

      <h2>Technologies</h2>

      <h3>Study</h3>

      <p>
        The full study has been made with <a href="https://www.python.org/">Python 3</a> and <a href="http://jupyter.org/">iPython Jupyter Notebook</a>. You can find the full code directly on your github repository <a href="https://github.com/antitoine/ADAEPFL-Project">here</a>.
        <br>
        To manage data, the main work has been done with <a href="http://pandas.pydata.org/">Pandas</a>.
        <br>
        Visualisation part has been made with <a href="http://seaborn.pydata.org/">Seaborn</a> but also with <a href="https://plot.ly/">Plotly</a> library for Python to facilitate the passage to the presentation website.
      </p>

      <h3>Website</h3>

      <p>
        This website has been built with <a href="https://angular.io/">Angular 2 (2.3.1)</a>.
        In addition, we used mainly the following components:
      </p>

      <ul>
        <li><a href="http://getbootstrap.com/">Bootstrap (3.3.7)</a></li>
        <li><a href="http://fontawesome.io/">Font Awesome (4.7.0)</a></li>
        <li><a href="http://valor-software.com/ng2-bootstrap/">ng2-bootstrap (1.1.16)</a></li>
      </ul>

      <p>
        In order to make visualisation graph, we have chosen the <a href="https://plot.ly/">Plotly</a> library for Javascript. See the extra part below explaining how we export graph from notebook to the website.
        <br>
        Website sources are also available on our repository <a href="https://github.com/antitoine/ADAEPFL-Project/tree/website">here</a>.
      </p>

      <h3>Exporting graph</h3>

      <p>
        We search a lot to find a lib to make dynamics graphics that work with python and also with javascript.
        The only one today that is free, is Plotly.
        But the documentation is relatively poor and there is anything that indicate the possibility to make export from python to javascript.
        The solution we will provide is certainly the best one without reproduce any javascript code but keep using the Plotly.js API.
      </p>

      <h4>Export from Python</h4>

      <p>
        When the final graph is done in the python side, we can notice that the graphic schema given to plotly is a large dictionary, similar as a <i>json</i> with all data and configurations for the layout.
        We remarque that this dictionary has same attributes of the Plotly.js API, and it's the case after some analysis in the source code of plotly.
        The first thing to do is to transform the dictionary in a <i>json</i> file.
        We found in the open source plotly for python project, that all dictionaries are transform with a custom <i>json encoder</i>, like you can see <a href="https://github.com/plotly/plotly.py/blob/0b6e0109defc1a0257dd98e20ff1e31504b887bb/plotly/plotly/plotly.py#L652">here</a>.
        So we do the same:
      </p>

      <div class="cell">
        <div class="input">
          <div class=" highlight hl-ipython3">
<pre><span></span><span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">plotly_data</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="n">plotly</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">PlotlyJSONEncoder</span><span class="p">,</span> <span class="n">fp</span><span class="o">=</span><span class="s1">&#39;plotly_graph.json&#39;</span><span class="p">)</span>
</pre>
          </div>
        </div>
        <div class="output">
          <div>
<pre>{{'{'}}
    "15-25 years":{{'{'}}
        "All":{{'{'}}
            "data":[
                {{'{'}}
                    "mode":"lines",
                    "name":"10 km",
                    "type":"scatter",
                    "x":[
                        1999,
                        2000,
                        2001,
                        [...]
                    ],
                }
            ],
            "layout":[
                [...]
            ]
        }
    }
}</pre>
          </div>
        </div>
      </div>

      <h4>Import in website</h4>

      <p>
        Now, it is very easy to display the same graphic displayed in notebook, we just need to give the <i>json</i> to the Plotly.js API (javascript):
      </p>

      <div class="cell">
        <div class="input">
          <div class=" highlight hl-ipython3">
<pre><span></span><span class="n">Plotly</span><span class="o">.</span><span class="n">newPlot</span><span class="p">(</span><span class="s1">&#39;demo-plotly-container&#39;</span><span class="p">,</span> <span class="n">json</span><span class="p">[</span><span class="s1">&#39;15-25 years&#39;</span><span class="p">][</span><span class="s1">&#39;All&#39;</span><span class="p">]);</span>
</pre>
          </div>
        </div>
        <div class="output">
          <plotly [url]="'./assets/json/demo-plotly-from-python-to-javascript.json'"></plotly>
        </div>
      </div>

      <h4>Improve portability</h4>

      <p>
        In appearance all seam to be right, but with a large graph like in Marathon Lausanne 1999-2016 study the json file is to big (more than 130 MB for the comparisons performances minified json file).
        The <i>json</i> schema is not very efficient when we look the size.
        To fix this issue, we built a system that download a compressed version of the <i>json</i> (in a simple <i>zip</i> file), we decompress it from the client side and then display the graph.
        With this technique we increase the rapidity and decrease the size of the page.
        The 130 MB <i>json</i> file take only 7 MB in the <i>zip</i> file (available <a href="./assets/json/marathon-lausanne-1999-2016-comparisons.json.zip">here</a>) and we need to wait 20 seconds of decompression (for comparison, to have the same speed without compressed file, the user need a network connection of 52 Mb/s).
        The full procedure is in the TypeScript/Angular code inside the website branch of our repository (<a href="https://github.com/antitoine/ADAEPFL-Project/tree/website">here</a>).
      </p>

      <h2>Team</h2>

      <p>
        We are three exchange students of the EPFL (École Polytechnique Fédérale de Lausanne) in IC master section (computer sciences). We all come from the INSA Lyon (Institut National des Sciences Appliquées de Lyon) where we follow our engineering degree.
        <br>
        If your are interested to learn about us, you can find more details in the following links:
      </p>

      <div class="row">
        <div class="col-sm-4" id="antoine-chabert">
          <div class="thumbnail">
            <img src="./assets/images/antoine-chabert.jpg" alt="Antoine Chabert - EPFL Student 2016/2017" title="Antoine Chabert - EPFL Student 2016/2017">
            <div class="caption">
              <h3>Antoine Chabert</h3>
              <p>
                <a href="https://fr.linkedin.com/in/chabertantoine" class="btn btn-default" role="button" title="Linkedin - Antoine Chabert" target="_blank">
                  <i class="fa fa-linkedin fa-fw"></i>
                  <span class="sr-only">Linkedin</span>
                </a>
                <a href="https://github.com/antitoine/" class="btn btn-default" role="button" title="Github - Antoine Chabert" target="_blank">
                  <i class="fa fa-github fa-fw"></i>
                  <span class="sr-only">Github</span>
                </a>
                <a href="mailto:antoine.chabert@epfl.ch" class="btn btn-default" role="button" title="Email - Antoine Chabert" target="_blank">
                  <i class="fa fa-envelope fa-fw"></i>
                  <span class="sr-only">Email</span>
                </a>
              </p>
            </div>
          </div>
        </div>
        <div class="col-sm-4" id="arnaud-dupeyrat">
          <div class="thumbnail">
            <img src="./assets/images/arnaud-dupeyrat.jpg" alt="Arnaud Dupeyrat - EPFL Student 2016/2017" title="Arnaud Dupeyrat - EPFL Student 2016/2017">
            <div class="caption">
              <h3>Arnaud Dupeyart</h3>
              <p>
                <a href="https://ch.linkedin.com/in/arnaud-dupeyrat-b4609176" class="btn btn-default" role="button" title="Linkedin - Arnaud Dupeyrat" target="_blank">
                  <i class="fa fa-linkedin fa-fw"></i>
                  <span class="sr-only">Linkedin</span>
                </a>
                <a href="https://github.com/arnaudDup" class="btn btn-default" role="button" title="Github - Arnaud Dupeyrat" target="_blank">
                  <i class="fa fa-github fa-fw"></i>
                  <span class="sr-only">Github</span>
                </a>
                <a href="mailto:arnaud.dupeyrat@epfl.ch" class="btn btn-default" role="button" title="Email - Arnaud Dupeyrat" target="_blank">
                  <i class="fa fa-envelope fa-fw"></i>
                  <span class="sr-only">Email</span>
                </a>
              </p>
            </div>
          </div>
        </div>
        <div class="col-sm-4" id="arber-salihi">
          <div class="thumbnail">
            <img src="http://placehold.it/300x300" alt="Arbër Salihi - EPFL Student 2016/2017" title="Arbër Salihi - EPFL Student 2016/2017">
            <div class="caption">
              <h3>Arbër Salihi</h3>
              <p>
                <a href="https://fr.linkedin.com/in/arber-salihi/fr" class="btn btn-default" role="button" title="Linkedin - Arbër Salihi" target="_blank">
                  <i class="fa fa-linkedin fa-fw"></i>
                  <span class="sr-only">Linkedin</span>
                </a>
                <a href="https://github.com/asalihi" class="btn btn-default" role="button" title="Github - Arbër Salihi" target="_blank">
                  <i class="fa fa-github fa-fw"></i>
                  <span class="sr-only">Github</span>
                </a>
                <a href="mailto:arber.salihi@epfl.ch" class="btn btn-default" role="button" title="Email - Arbër Salihi" target="_blank">
                  <i class="fa fa-envelope fa-fw"></i>
                  <span class="sr-only">Email</span>
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>
